p$<.count{|l|
x,y=l.split(?,).map{a,b=_1.split ?-
(a.to_i..b.to_i).to_a}
x&y!=[]}

p$<.count{|l|
x,y=l.split(?,).map{a,b=_1.split ?-
a.to_i..b.to_i}
x.any?{y===_1}}
